# tetris 俄罗斯方块
<img src="https://github.com/abcnull/Image-Resources/blob/master/godot-mini-games-demo/tetris.gif" width="100" height="200" alt="tetris">

游戏规则
- 左右键控制左右移动
- 上控制方块转向
- 下控制方块向下加速
- 空格控制方块直接下落
- 方块每隔一定时间自动下落
- 堆积满了一行即可消除一行，并且获得 10 积分
- 方块被占满就会失败
- 方块随着清除的行越来越多，游戏速度也会加快

demo锻炼
- GDScript 语法
- TileMap 的使用
- 逻辑思维

设计思路
- 1.游戏初始化
	- 1.1 游戏定义好各个方块的坐标，以及旋转后的坐标
	- 1.2 定义其他的变量，包括速度，初始位置，当前运动的方块等
- 2.使用 TileMap 来布置，设置 active 和 board 两层，active 层放运动的方块，board 层放堆积好的方块
- 3.每帧循环绘制
	- 3.1 监听键盘事件，左右下事件 step 增加
	- 3.2 监听键盘事件，空格事件，直接将 active 的方块绘制到下方
 	- 3.3 不管监听到什么事件，step 自动向下增加一定步数
 	- 3.4 某个方向的 step 增加到一定数值时，真的移动一格子，去绘制它
 		- 3.4.1 真的可以移动这一格，就正常移动
 		- 3.4.2 移动不了这一格，判断是否是正在向下移动，如果不是向下移动最简单，什么都不管
           - 3.4.2.1 如果是向下移动，向下移动就触发检测该行是否满了，没有满不用做什么操作
             - 3.4.2.2.1 从满了的最底下的那一行开始，自动从上面一行向下面一行赋值，从而实现满行的被覆盖
           - 3.4.2.2 创建新的方块在游戏中，设定位置和颜色还有方块种类
           - 3.4.2.3 创建下一个方块在 panel 中
           - 3.4.2.4 判断游戏结束，即创建的方块有没有和 board 重合